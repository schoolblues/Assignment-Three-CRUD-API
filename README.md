# Assignment-Three-CRUD-API
Simple CRUD API for Animal Objects with JPA (Hibernate)

### Version
1.0.0

## Installation
- Get the project
    - clone
        ```
      git clone https://github.com/schoolblues/Assignment-Three-CRUD-API.git
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 21.
- [Dependencies](https://github.com/schoolblues/Assignment-Three-CRUD-API/blob/e30190792a4c2d9c9eca5f951a2276c90cb02e6c/pom.xml#L32) to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- [`/src/main/resources/application.properties`](https://github.com/schoolblues/Assignment-Three-CRUD-API/blob/04eef4b02c55bb9d5b363fb189d47651bf4e9da3/src/main/resources/application.properties) This file has the configuration for the PostgreSQL database to use for the API.
- Build and run the main class. You should see a new table created in the Neon database.

## API Endpoints
Base URL: [`http://localhost:8080/animals`](http://localhost:8080/animals)


1. ### [`/`](http://localhost:8080/animals) (GET)
Gets a list of all Animals in the database.

#### Response - A JSON array of Animal objects.

```
[
  {
    "animalId": 0,
    "name": "Rufus",
    "gender": "Male",
    "age": 17.0,
    "weight": 175.0
  },
  {
    "animalId": 1,
    "name": "Lizz",
    "gender": "Female",
    "age": 123.0,
    "weight": 250.0
  },
  {
    "animalId": 6,
    "name": "Sakura",
    "gender": "Female",
    "age": 110.0,
    "weight": 8.0
  }
]
```

2. ### [`/{animalId}`](http://localhost:8080/animals/1) (GET)
Gets an individual Animal in the system. Each Animal is identified by a numeric `animalId`

#### Parameters
- Path Variable: `animalId` &lt;Long &gt; - REQUIRED

#### Response - A single Animal

```
{
  "animalId": 1,
  "name": "Lizz",
  "gender": "Female",
  "age": 123.0,
  "weight": 250.0
}
```

3. ### [`/name`](http://localhost:8080/animals/name?key=jo) (GET)
Gets a list of animals with a name that contains the given string.

#### Parameters
- query parameter: `search` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Student objects.

```
[
  {
    "animalId": 0,
    "name": "Rufus",
    "gender": "Male",
    "age": 17.0,
    "weight": 175.0
  }
]
```

4. ### [`/weight`](http://localhost:8080/animals/weight?key=175) (GET)
Gets an animal based on their weight.

#### Parameters
- path variable: `weight` &lt; Double &gt; - REQUIRED

#### Response - A JSON array of animal objects.

```
[
  {
    "animalId": 0,
    "name": "Rufus",
    "gender": "Male",
    "age": 17.0,
    "weight": 175.0
  }
]
```
5. ### [`/age`](http://localhost:8080/animals/age?age=100) (GET)
Gets a list of animals with a age meeting the Threshold.

#### Parameters
- query parameter: `age` &lt;Int&gt; - REQUIRED

#### Response - A JSON array of Animal objects.

```
[
  {
    "animalId": 1,
    "name": "Lizz",
    "gender": "Female",
    "age": 123.0,
    "weight": 250.0
  }
]
```
6. ### [`/animals`](http://localhost:8080/animals) (POST)
Create  a new Animal entry

#### Request Body
A animal object. Note the object does not include an ID as this is autogenerated.
```
  {
    "name": "Sakura",
    "gender": "Female",
    "age": 110.0,
    "weight": 8.0
  }
```
#### Response - The newly created Animal.

```
{
  "animalId": 2,
  "name": "Sakura",
  "gender": "Female",
  "age": 110.0,
  "weight": 8.0
}
```

7. ### [`/{animalId}`](http://localhost:8080/animals/3) (PUT)
Update an existing Animal.

#### Parameters
- Path Variable: `animalId` &lt;integer&gt; - REQUIRED

#### Request Body
A animal object with the updates.
```
  {
    "animalId": 2,
    "name": "Sakura Improved",
    "gender": "Female",
    "age": 110.0,
    "weight": 8.0
  }
```
#### Response - the updated Animal object.
```
{
  "animalId": 2,
  "name": "Sakura Improved",
  "gender": "Female",
  "age": 110.0,
  "weight": 8.0
}
```

8. ### [`/{animalId}`](http://localhost:8080/animals/3) (DELETE)
Delete an existing Animal.

#### Parameters
- Path Variable: `animalId` &lt;integer&gt; - REQUIRED

#### Response - the updated list of animals.
```
[
  {
    "animalId": 0,
    "name": "Rufus",
    "gender": "Male",
    "age": 17.0,
    "weight": 175.0
  },
  {
    "animalId": 1,
    "name": "Lizz",
    "gender": "Female",
    "age": 123.0,
    "weight": 250.0
  }
]
```
